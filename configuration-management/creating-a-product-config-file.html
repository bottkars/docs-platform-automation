<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><link rel="canonical" href="https://docs.pivotal.io/configuration-management/creating-a-product-config-file.html"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="../assets/icon.svg"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.0"><title>Creating a Product Config File - Platform Automation</title><link rel="stylesheet" href="../assets/stylesheets/application.4031d38b.css"><link rel="stylesheet" href="../assets/stylesheets/application-palette.224b79ff.css"><meta name="theme-color" content="#009688"><script src="../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700|Ubuntu+Mono&display=swap"><style>body,input{font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../assets/fonts/material-icons.css">
<style>
label.md-nav__link {
    font-weight: bold;
}

@media only screen and (min-width: 76.1875em) {
  label.md-nav__title.md-nav__title--site {
      display: none;
  }
}
.header-dropdown {
  display: inline-block;
  position: relative;
  margin-left: 10px;
  cursor: pointer;
}

.header-dropdown:hover .content,
.header-dropdown:hover .content:hover {
  display: block;
  visibility: visible;
  opacity: 1;
}

.header-dropdown .content {
  position: absolute;
  top: 100%;
  background-color: #009688;
  left: 0;
  display: none;
  z-index: 1;
  clear: both;
  padding: 10px;
}

.header-dropdown ul {
  padding: 0;
  margin: 0;
  line-height: 24px;
}

.header-dropdown ul li {
  list-style: none;
}

.md-header-nav__topic {
  overflow: visible;
}

.header-dropdown .pointer {
  height: 24px;
  width: 24px;
  display: inline-flex;
  vertical-align: middle;
  fill: white;
}

.md-typeset pre, .md-typeset code {
  font-size: 100%
}

.md-typeset table:not([class]) {
  font-size: 16px
}

.md-typeset > .codehilitetable {
  overflow: visible;
}

.md-typeset .md-footer-social {
    font-size: .64rem;
}

.md-footer-social {
    padding: .4rem 0;
}
</style>

<!-- Google Tag Manager -->
<script>
 (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
 new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
 j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
 })(window,document,'script','dataLayer','GTM-MW4LZHR');
</script>
</head><body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal"><svg class="md-svg"><defs><svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#from-pivnet" tabindex="1" class="md-skip">Skip to content </a><style>
    .header-dropdown {
        font-size: .75em;
    }

    .header-dropdown .content {
        top: 97%;
    }

    @media only screen and (max-width: 60em) {
        .md-header .secondary-header {
            display: none;
        }
    }
    @media only screen and (min-width: 60em) {
        .md-header {
            height: 7.4rem;
        }

        .md-header .md-header-nav {
            height: 5rem;
        }

        .md-header .md-header-nav .md-flex {
            height: 100%;
        }

        .md-header .md-header-nav .md-flex__cell {
            vertical-align: middle;
        }

        .md-header .md-header-nav .md-header-nav__title {
            font-size: 1.25rem;
            line-height: 5rem;
        }

        .md-header .secondary-header .md-flex__cell {
            width: 30rem;
            text-align: right;
        }

        .md-header .secondary-header .md-grid {
            padding: 0 .6rem;
        }

        .md-header .secondary-header .logo {
            text-align: left;
        }

        .md-header .secondary-header {
            height: 2.4rem;
            line-height: 3.0rem;
            background-color: #243640;
        }

        .md-header .secondary-header .sub {
            font-size: 13px;
        }

        .md-header .secondary-header .sub a {
            margin-right: 17px;
        }

        .global-header-title .pivotal-logo {
            fill: white;
            height: .9rem;
            margin-right: 8px;
        }

        .global-header-title .documentation-letters {
            fill: white;
            height: .6rem;
        }

        .md-sidebar[data-md-state=lock] {
            top: 7.4rem;
        }

        .md-main__inner {
            padding-top: 5rem;
        }
    }
</style>
<header class="md-header" data-md-component="header">
    <div class="secondary-header">
        <div class="md-flex md-grid">
            <div class="md-flex__cell logo">
            <a href="https://docs.pivotal.io" class="global-header-title" target="_blank">
            <svg class="pivotal-logo" xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 174.72 40.94">
                <path class="a" d="M38.77,6h-6.2V0h6.2Zm0,34.24H32.56V10.41h6.22Z"></path>
                <path class="a"
                      d="M74.67,10.41,66,36.18c-1.49,4.22-4.15,4.76-6.3,4.76-3.19,0-5.11-1.47-6.24-4.75l-7.22-21.4H43.39V10.41h7.45l7.44,24c.33,1,.53,1.63,1.43,1.63s1.13-.62,1.43-1.63l7.59-24Z"></path>
                <path class="a"
                      d="M90,10.41c8.05,0,13.66,5.31,13.66,12.92V28c0,7.6-5.61,12.92-13.66,12.92S76.32,35.62,76.32,28V23.33c0-7.61,5.62-12.92,13.67-12.92M90,36c4.81,0,7.8-3.64,7.8-8V23.33c0-4.37-3-8-7.8-8-5.1,0-7.8,3.64-7.8,8V28c0,4.37,2.82,8,7.8,8"></path>
                <path class="a"
                      d="M153.32,11.36A53.46,53.46,0,0,0,141.8,10c-8.17,0-13.24,5.15-13.24,13.45v3.27c0,8.3,5.07,13.53,13.24,13.53.19,0,1.64,0,2.3-.06v-5l-2.3.07c-4.45,0-7.43-3.43-7.43-8.53V23.44c0-5.09,3-8.52,7.43-8.52a43.88,43.88,0,0,1,6.09.38l.33.08V40.24h6.22V12.4c0-.53,0-.74-1.13-1"></path>
                <rect class="a" x="160.44" width="6.22" height="40.24"></rect>
                <path class="a"
                      d="M10.92,0H0V40.24H6.47V5.59h3.79c.81,0,1.49,0,2.18.06,5.61.1,8.35,2.33,8.35,6.69,0,.17,0,.29,0,.47,0,4-2.21,6.71-8.32,6.71H10.67c0,1.55,0,4.41,0,5.41.63,0,1.22.06,1.82.06,8.78,0,15-3.45,15-12.11,0-.17,0-.35,0-.52C27.44,3.38,20.69,0,10.92,0"></path>
                <path class="a"
                      d="M114.7,4v6.43h10.13v4.82H114.7V32.61c0,2.73,1.74,2.8,4.26,2.8h5.87v4.83h-7.94c-5.87,0-8.48-2.35-8.48-7.63V4.84Z"></path>
                <path class="a"
                      d="M169.52,37.64a2.6,2.6,0,1,1,2.6,2.6A2.61,2.61,0,0,1,169.52,37.64Zm2.6-2.25a2.23,2.23,0,1,0,2.22,2.24A2.24,2.24,0,0,0,172.12,35.39ZM171.55,39h-.31V36.19h.8c.72,0,1.06.33,1.06.86a.82.82,0,0,1-.58.8l.74,1.17h-.36l-.68-1.1-.67,0Zm.51-1.34c.46,0,.75-.24.75-.62s-.25-.6-.79-.6h-.48V37.7Z"></path>
            </svg>
            <svg class="documentation-letters" xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 358.62 30.84">
                <path class="a"
                      d="M3.71,37.26V7.45h9.52c9.25,0,15.06,6.75,15.06,14.92S22.48,37.26,13.23,37.26Zm21.9-14.89c0-7-4.47-12.6-12.38-12.6h-7V34.93h7C21.1,34.93,25.61,29.35,25.61,22.37Z"
                      transform="translate(-3.71 -6.96)"></path>
                <path class="a"
                      d="M33.52,22.37C33.52,13.66,39.24,7,48,7s14.48,6.7,14.48,15.41S56.72,37.79,48,37.79,33.52,31.09,33.52,22.37Zm26.28,0c0-7.55-4.64-13.09-11.8-13.09S36.21,14.82,36.21,22.37s4.6,13.1,11.79,13.1S59.8,29.88,59.8,22.37Z"
                      transform="translate(-3.71 -6.96)"></path>
                <path class="a"
                      d="M67.67,22.37C67.67,13.21,74.33,7,82.78,7a13.38,13.38,0,0,1,10.86,5.27L91.5,13.61a10.84,10.84,0,0,0-8.72-4.33c-7,0-12.42,5.32-12.42,13.09s5.45,13.1,12.42,13.1a10.82,10.82,0,0,0,8.72-4.34l2.19,1.34a13.51,13.51,0,0,1-10.91,5.32C74.33,37.79,67.67,31.54,67.67,22.37Z"
                      transform="translate(-3.71 -6.96)"></path>
                <path class="a"
                      d="M98.79,25.82V7.45h2.59V25.77c0,6,3.17,9.7,9,9.7s9-3.67,9-9.7V7.45H122V25.82c0,7.37-3.94,12-11.62,12S98.79,33.15,98.79,25.82Z"
                      transform="translate(-3.71 -6.96)"></path>
                <path class="a"
                      d="M154.75,37.26V10.66l-10.87,26.6h-1L132,10.66v26.6h-2.55V7.45h3.8l10.14,24.8,10.1-24.8h3.85V37.26Z"
                      transform="translate(-3.71 -6.96)"></path>
                <path class="a" d="M164.76,37.26V7.45h18.91V9.77H167.31v11h16v2.32h-16v11.8h16.36v2.33Z"
                      transform="translate(-3.71 -6.96)"></path>
                <path class="a" d="M211.29,37.26,192.52,11.65V37.26H190V7.45h2.59L211.25,32.7V7.45h2.54V37.26Z"
                      transform="translate(-3.71 -6.96)"></path>
                <path class="a" d="M228.81,37.26V9.77h-9.74V7.45h22.08V9.77h-9.74V37.26Z"
                      transform="translate(-3.71 -6.96)"></path>
                <path class="a"
                      d="M264.93,37.26,262,29.93H246.2l-2.95,7.33H240.3L252.51,7.45h3.17l12.2,29.81ZM254.11,10.17,247.05,27.6h14.08Z"
                      transform="translate(-3.71 -6.96)"></path>
                <path class="a" d="M276.78,37.26V9.77H267V7.45h22.07V9.77h-9.74V37.26Z"
                      transform="translate(-3.71 -6.96)"></path>
                <path class="a" d="M294.39,37.26V7.45h2.55V37.26Z" transform="translate(-3.71 -6.96)"></path>
                <path class="a"
                      d="M303.24,22.37C303.24,13.66,309,7,317.72,7s14.48,6.7,14.48,15.41-5.76,15.42-14.48,15.42S303.24,31.09,303.24,22.37Zm26.28,0c0-7.55-4.65-13.09-11.8-13.09s-11.8,5.54-11.8,13.09,4.61,13.1,11.8,13.1S329.52,29.88,329.52,22.37Z"
                      transform="translate(-3.71 -6.96)"></path>
                <path class="a" d="M359.83,37.26,341.06,11.65V37.26h-2.55V7.45h2.59L359.78,32.7V7.45h2.55V37.26Z"
                      transform="translate(-3.71 -6.96)"></path>
            </svg>
            </a></div>

            <div class="md-flex__cell sub">
                <a href="#">Support</a>
                <a href="#">Downloads</a>
            </div>
        </div>
    </div>
    <nav class="md-header-nav md-grid">
        <div class="md-flex">
            <div class="md-flex__cell md-flex__cell--shrink">
                <a href="https://docs.pivotal.io" title="Platform Automation"
                   class="md-header-nav__button md-logo">
                    
                        <img src="../assets/icon.svg" width="65" height="65">
                    
                </a>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
                <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch">
                <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
                    
                        
                            <span class="md-header-nav__topic">
                                Platform Automation
                                
                                    <span class="header-dropdown">
                                        <a href="testin/configuration-management/creating-a-product-config-file.html">2.1</a>
                                        <span class="pointer">
                                            <svg width="100%" height="100%" viewBox="0 0 24 24" fit="" preserveAspectRatio="xMidYMid meet"
                                               focusable="false"><path d="M18 9H6l6 6 6-6z" fill-rule="evenodd"></path></svg>
                                        </span>
                                        <span class="content">
                                            <ul>
                                              
                                                  <li> <a href="testin/configuration-management/creating-a-product-config-file.html">1.1</a></li>
                                              
                                                  <li> <a href="testin/configuration-management/creating-a-product-config-file.html">2.1</a></li>
                                              
                                                  <li> <a href="testin/configuration-management/creating-a-product-config-file.html">develop</a></li>
                                              
                                            </ul>
                                        </span>
                                    </span>
                                
                            </span>
                            <span class="md-header-nav__topic">
                                Creating a Product Config File
                            </span>
                        
                    
                </div>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
                
                    
                        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
                        <div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div>
                    
                
            </div>
            
                <div class="md-flex__cell md-flex__cell--shrink">
                    <div class="md-header-nav__source">
                        <a href="https://github.com/pivotal/docs-platform-automation/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">Help fix the docs!</div></a>
                    </div>
                </div>
            
        </div>
    </nav>
</header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="https://docs.pivotal.io" title="Platform Automation" class="md-nav__button md-logo"><img src="../assets/icon.svg" width="48" height="48"></a>Platform Automation</label><div class="md-nav__source"><a href="https://github.com/pivotal/docs-platform-automation/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">Help fix the docs!</div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../index.html" title="Introduction" class="md-nav__link">Introduction</a></li><li class="md-nav__item"><a href="../downloading-and-testing.html" title="Downloading and Testing" class="md-nav__link">Downloading and Testing</a></li><li class="md-nav__item"><a href="../compatibility-and-versioning.html" title="Compatibility and Versioning" class="md-nav__link">Compatibility and Versioning</a></li><li class="md-nav__item"><a href="../release-notes.html" title="Release Notes" class="md-nav__link">Release Notes</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5"><label class="md-nav__link" for="nav-5">Reference Pipelines</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-5">Reference Pipelines</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../pipeline/resources.html" title="Retrieving External Dependencies" class="md-nav__link">Retrieving External Dependencies</a></li><li class="md-nav__item"><a href="../pipeline/multiple-products.html" title="Ops Manager + multiple products" class="md-nav__link">Ops Manager + multiple products</a></li><li class="md-nav__item"><a href="../pipeline/single-product.html" title="Ops Manager + a product" class="md-nav__link">Ops Manager + a product</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6"><label class="md-nav__link" for="nav-6">Before You Begin</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-6">Before You Begin</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../before-you-begin/git-repo-layout.html" title="Git Repository Layout" class="md-nav__link">Git Repository Layout</a></li><li class="md-nav__item"><a href="../before-you-begin/setup-s3-and-resources.html" title="Set Up S3 for File Storage" class="md-nav__link">Set Up S3 for File Storage</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7"><label class="md-nav__link" for="nav-7">How to Guides</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-7">How to Guides</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../how-to-guides/upgrade-existing-opsman.html" title="Upgrading an Existing Ops Manager" class="md-nav__link">Upgrading an Existing Ops Manager</a></li><li class="md-nav__item"><a href="../how-to-guides/install-opsman.html" title="Installing Ops Manager" class="md-nav__link">Installing Ops Manager</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8"><label class="md-nav__link" for="nav-8">References</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-8">References</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../reference/task.html" title="Tasks" class="md-nav__link">Tasks</a></li><li class="md-nav__item"><a href="../reference/inputs-outputs.html" title="Inputs/Outputs" class="md-nav__link">Inputs/Outputs</a></li><li class="md-nav__item"><a href="../reference/running-commands-locally.html" title="Running Commands Locally" class="md-nav__link">Running Commands Locally</a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" checked><label class="md-nav__link" for="nav-9">Configuration Management</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-9">Configuration Management</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="configure-auth.html" title="Configure Auth" class="md-nav__link">Configure Auth</a></li><li class="md-nav__item"><a href="creating-a-director-config-file.html" title="Creating a Director Config File" class="md-nav__link">Creating a Director Config File</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Creating a Product Config File</label><a href="creating-a-product-config-file.html" title="Creating a Product Config File" class="md-nav__link md-nav__link--active">Creating a Product Config File</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#from-pivnet" title="From Pivnet" class="md-nav__link">From Pivnet</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#prerequisites" title="Prerequisites" class="md-nav__link">Prerequisites</a></li><li class="md-nav__item"><a href="#workflow" title="Workflow" class="md-nav__link">Workflow</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#generate-the-config-template-directory" title="Generate the Config Template Directory" class="md-nav__link">Generate the Config Template Directory</a></li><li class="md-nav__item"><a href="#interpolate-a-config" title="Interpolate a Config" class="md-nav__link">Interpolate a Config</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#optional-features" title="Optional Features" class="md-nav__link">Optional Features</a></li></ul></nav></li><li class="md-nav__item"><a href="#finalize-your-configuration" title="Finalize Your Configuration" class="md-nav__link">Finalize Your Configuration</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="#from-a-staged-product" title="From A Staged Product" class="md-nav__link">From A Staged Product</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#prerequisites_1" title="Prerequisites" class="md-nav__link">Prerequisites</a></li><li class="md-nav__item"><a href="#workflow_1" title="Workflow" class="md-nav__link">Workflow</a></li></ul></nav></li><li class="md-nav__item"><a href="#using-ops-files-for-multi-foundation" title="Using Ops Files for Multi-Foundation" class="md-nav__link">Using Ops Files for Multi-Foundation</a></li></ul></nav></li><li class="md-nav__item"><a href="configure-env.html" title="Configuring Env" class="md-nav__link">Configuring Env</a></li><li class="md-nav__item"><a href="secrets-handling.html" title="Secrets Handling" class="md-nav__link">Secrets Handling</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10"><label class="md-nav__link" for="nav-10">Pipeline Design</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-10">Pipeline Design</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../pipeline-design/variables.html" title="Variables" class="md-nav__link">Variables</a></li><li class="md-nav__item"><a href="../pipeline-design/stemcell-handling.html" title="Stemcell Handling" class="md-nav__link">Stemcell Handling</a></li></ul></nav></li><li class="md-nav__item"><a href="../upgrade.html" title="About Upgrading Ops Manager" class="md-nav__link">About Upgrading Ops Manager</a></li><li class="md-nav__item"><a href="../report-an-issue.html" title="Report an Issue" class="md-nav__link">Report an Issue</a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#from-pivnet" title="From Pivnet" class="md-nav__link">From Pivnet</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#prerequisites" title="Prerequisites" class="md-nav__link">Prerequisites</a></li><li class="md-nav__item"><a href="#workflow" title="Workflow" class="md-nav__link">Workflow</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#generate-the-config-template-directory" title="Generate the Config Template Directory" class="md-nav__link">Generate the Config Template Directory</a></li><li class="md-nav__item"><a href="#interpolate-a-config" title="Interpolate a Config" class="md-nav__link">Interpolate a Config</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#optional-features" title="Optional Features" class="md-nav__link">Optional Features</a></li></ul></nav></li><li class="md-nav__item"><a href="#finalize-your-configuration" title="Finalize Your Configuration" class="md-nav__link">Finalize Your Configuration</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="#from-a-staged-product" title="From A Staged Product" class="md-nav__link">From A Staged Product</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#prerequisites_1" title="Prerequisites" class="md-nav__link">Prerequisites</a></li><li class="md-nav__item"><a href="#workflow_1" title="Workflow" class="md-nav__link">Workflow</a></li></ul></nav></li><li class="md-nav__item"><a href="#using-ops-files-for-multi-foundation" title="Using Ops Files for Multi-Foundation" class="md-nav__link">Using Ops Files for Multi-Foundation</a></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><a href="https://github.com/pivotal/docs-platform-automation/edit/develop/docs/configuration-management/creating-a-product-config-file.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a><h1>Creating a Product Config File</h1><p>Extracting a product configuration file, an externalized config that lives outside of Ops Manager, can make it easier to manage multiple foundations as well as help with:</p>
<ul>
<li>traceability</li>
<li>avoiding configuration drift</li>
<li>configuration promotion</li>
</ul>
<h2 id="from-pivnet">From Pivnet</h2>
<p>A configuration file can be generated from the tile metadata directly from Pivotal Network.</p>
<h3 id="prerequisites">Prerequisites</h3>
<ol>
<li>A token for the <a href="https://network.pivotal.io/docs/api#how-to-authenticate">Pivotal Network API</a> is required.</li>
<li>You'll need the Platform Automation Docker Image <a href="../reference/running-commands-locally.html">imported and ready to run</a>.</li>
<li>For products that have multiple <code>.pivotal</code> files, you'll need a glob pattern uniquely matching one of them.</li>
</ol>
<h3 id="workflow">Workflow</h3>
<h4 id="generate-the-config-template-directory">Generate the Config Template Directory</h4>
<p><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nb">export</span> <span class="nv">PIVNET_API_TOKEN</span><span class="o">=</span><span class="s1">&#39;your-pivotal-network-api-token&#39;</span>
</pre></div>
</td></tr></table>
(Alternatively, you can write the above to a file and <code>source</code> it to avoid credentials in your bash history.)</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>docker run -it -v <span class="nv">$HOME</span>/configs:/configs platform-automation-image <span class="se">\</span>
om config-template <span class="se">\</span>
  --output-directory /configs/ <span class="se">\</span>
  --pivnet-api-token <span class="s2">&quot;</span><span class="si">${</span><span class="nv">PIVNET_API_TOKEN</span><span class="si">}</span><span class="s2">&quot;</span> <span class="se">\</span>
  --pivnet-product-slug elastic-runtime <span class="se">\</span>
  --product-version <span class="s1">&#39;2.5.0&#39;</span> <span class="se">\</span>
  --product-file-glob <span class="s1">&#39;cf*.pivotal&#39;</span> <span class="c1"># Only necessary if the product has multiple .pivotal files</span>
</pre></div>
</td></tr></table>

<p>This will create or update a directory at <code>$HOME/configs/cf/2.5.0/</code>.</p>
<p><code>cd</code> into the directory to get started creating your config.</p>
<h4 id="interpolate-a-config">Interpolate a Config</h4>
<p>The directory will contain a product.yml file.
This is the template for the product configuration you're about to build.
Open it in an editor of your choice.
Get familiar with what's in there.
The values will be variables intended to be interpolated from other sources,
designated with the<code>(())</code> syntax.</p>
<p>You can find the value for any property with a default in the <code>product-default-vars.yml</code> file.
This file serves as a good example of a variable source.
You'll need to create a vars file of your own for variables without default values.
For the base template, you can get a list of required variables by running
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>docker run -it -v <span class="nv">$HOME</span>/configs:/configs platform-automation-image <span class="se">\</span>
om interpolate <span class="se">\</span>
  --config product.yml <span class="se">\</span>
  -l product-default-vars.yml <span class="se">\</span>
  -l resource-vars.yml <span class="se">\</span>
  -l errand-vars.yml
</pre></div>
</td></tr></table></p>
<p>Put all those vars in a file and give them the appropriate values.
Once you've included all the variables,
the output will be the finished template.
For the rest of this guide,
we will refer to these vars as <code>required-vars.yml</code>.</p>
<p>There may be situations that call for splitting your vars across multiple files.
This can be useful if there are vars that need to be interpolated when you apply the configuration,
rather than when you create the final template.
You might consider creating a seperate vars file for each of the following cases:</p>
<ul>
<li>credentials (these vars can then be <a href="secrets-handling.html">persisted separately/securely</a>)</li>
<li>foundation-specific variables when using the same template for multiple foundations</li>
</ul>
<p>You can use the <code>--skip-missing</code> flag when creating your final template
using <code>om interpolate</code> to leave such vars to be rendered later.</p>
<p>If you're having trouble figuring out what the values should be,
here are some approaches you can use:</p>
<ul>
<li>Look in the template where the variable appears for some additional context of its value.</li>
<li>Look at the tile's online documentation</li>
<li>
<p>Upload the tile to an Ops Manager 
  and visit the tile in the Ops Manager UI to see if that provides any hints.</p>
<p>If you are still struggling, inspecting the html of the Ops Manager webpage
can more accurately map the value names to the associated UI element.</p>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title">When Using The Ops Manager Docs and UI</p>
<p>Be aware that the field names in the UI do not necessarily map directly to property names.</p>
</div>
<h5 id="optional-features">Optional Features</h5>
<p>The above process will get you a default installation,
with no optional features or variables,
that is entirely deployed in a single Availability Zone (AZ).</p>
<p>In order to provide non-required variables,
use multiple AZs,
or make non-default selections for some options,
you'll need to use some of the ops files in one of the following four directories:</p>
<table>
    <tr>
        <td>features</td>
        <td>allow the enabling of selectors for a product. For example, enabling/disabling of an s3 bucket</td>
    </tr>
    <tr>
        <td>network</td>
        <td>contains options for enabling 2-3 availability zones for network configuration</td>
    </tr>
    <tr>
        <td>optional</td>
        <td>contains optional properties without defaults. For optional values that can be provided more than once, there's an ops file for each param count </td>
    </tr>
    <tr>
        <td>resource</td>
        <td>contains configuration that can be applied to resource configuration. For example, BOSH vm extensions</td>
    </tr>
</table>

<p>To use an ops file, add <code>-o</code>
with the path to the ops file you want to use to your <code>interpolate</code> command.</p>
<p>So, to enable TCP routing in PAS, you would add <code>-o features/tcp_routing-enable.yml</code>.
For the rest of this guide, the vars for this feature
are referred to as <code>feature-vars.yml</code>.
If you run your complete command, you should again get a list of any newly-required variables.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>docker run -it -v <span class="nv">$HOME</span>/configs:/configs platform-automation-image <span class="se">\</span>
om interpolate <span class="se">\</span>
  --config product.yml <span class="se">\</span>
  -l product-default-vars.yml <span class="se">\</span>
  -l resource-vars.yml <span class="se">\</span>
  -l required-vars.yml <span class="se">\</span>
  -o features/tcp_routing-enable.yml <span class="se">\</span>
  -l feature-vars.yml <span class="se">\</span>
  -l errand-vars.yml
</pre></div>
</td></tr></table>

<h4 id="finalize-your-configuration">Finalize Your Configuration</h4>
<p>Once you've selected your ops files and created your vars files,
decide which vars you want in the template
and which you want to have interpolated later.</p>
<p>Create a final template and write it to a file,
using only the vars you want to in the template,
and using <code>--skip-missing</code> to allow the rest to remain as variables.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>docker run -it -v <span class="nv">$HOME</span>/configs:/configs platform-automation-image <span class="se">\</span>
om interpolate <span class="se">\</span>
  --config product.yml <span class="se">\</span>
  -l product-default-vars.yml <span class="se">\</span>
  -l resource-vars.yml <span class="se">\</span>
  -l required-vars.yml <span class="se">\</span>
  -o features/tcp_routing-enable.yml <span class="se">\</span>
  -l feature-vars.yml <span class="se">\</span>
  -l errand-vars.yml <span class="se">\</span>
  --skip-missing <span class="se">\</span>
  &gt; pas-config-template.yml
</pre></div>
</td></tr></table>

<p>You can check-in the resulting configuration to a git repo.
For vars that do not include credentials, you can check those vars files in, as well.
Handle vars that are secret <a href="secrets-handling.html">more carefully</a>.</p>
<p>You can then dispose of the config template directory.</p>
<h2 id="from-a-staged-product">From A Staged Product</h2>
<p>A configuration can be generated from a staged product on an already existing Ops Manager.</p>
<h3 id="prerequisites_1">Prerequisites</h3>
<p>To extract the configuration for a product, you will first need to do the following:</p>
<ol>
<li>Upload and stage your desired product(s) to a fully deployed Ops Manager.
For example, let's use <a href="https://network.pivotal.io/products/elastic-runtime">PAS</a> on Vsphere</li>
<li>Configure your product <em>manually</em> according to the product's
<a href="https://docs.pivotal.io/pivotalcf/customizing/config-er-vmware.html">install instructions</a>.</li>
</ol>
<h3 id="workflow_1">Workflow</h3>
<p><a href="https://github.com/pivotal-cf/om">om</a> has a command called <a href="../reference/task.html#staged-config">staged-config</a>, which is used to extract staged product
configuration present in the Ops Manager UI of the targeted foundation.</p>
<p>Sample usage, using <code>om</code> directly and assuming the <a href="https://network.pivotal.io/products/elastic-runtime">PAS</a> product:<br />
<code>om --env env.yml staged-config --include-placeholders --product-name cf &gt; tile-config.yml</code>  </p>
<p>Most products will contain the following high level keys:</p>
<ul>
<li>network-properties</li>
<li>product-properties</li>
<li>resource-config</li>
</ul>
<p>You can check the file in to git.</p>
<p>For convenience, Platform Automation provides you with two ways to use the
<code>om staged-config</code> command. The command can be run as a <a href="../reference/task.html#staged-config">task</a>
inside of your pipeline. As an example of how to invoke this for the <a href="https://network.pivotal.io/products/elastic-runtime">PAS</a> product
in your pipeline.yml(resources not listed):
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">jobs</span><span class="p">:</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">staged-pas-config</span>
  <span class="nt">plan</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">aggregate</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">get</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">platform-automation-image</span>
      <span class="nt">params</span><span class="p">:</span>
        <span class="nt">unpack</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="p p-Indicator">-</span> <span class="nt">get</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">platform-automation-tasks</span>
      <span class="nt">params</span><span class="p">:</span>
        <span class="nt">unpack</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="p p-Indicator">-</span> <span class="nt">get</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">configuration</span>
    <span class="p p-Indicator">-</span> <span class="nt">get</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">variable</span>
  <span class="p p-Indicator">-</span> <span class="nt">task</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">staged-config</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">platform-automation-image</span>
    <span class="nt">file</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">platform-automation-tasks/tasks/staged-config.yml</span>
    <span class="nt">input_mapping</span><span class="p">:</span>
      <span class="nt">env</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">configuration</span>
    <span class="nt">params</span><span class="p">:</span>
      <span class="nt">PRODUCT_NAME</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cf</span>
      <span class="nt">ENV_FILE</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">((foundation))/env/env.yml</span>
      <span class="nt">SUBSTITUTE_CREDENTIALS_WITH_PLACEHOLDERS</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="p p-Indicator">-</span> <span class="nt">put</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">configuration</span>
    <span class="nt">params</span><span class="p">:</span>
      <span class="nt">file</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">generated-config/cf.yml</span>      
</pre></div>
</td></tr></table>
This task will connect to the Ops Manager defined in your <a href="configure-env.html#generating-an-env-file"><code>env.yml</code></a>, download the current staged
configuration of your product, and put it into a <code>generated-config</code> folder in the concourse job. The <code>put</code> in
concourse allows you to persist this config outside the concourse container.</p>
<p>Alternatively, this can be run external to concourse by using docker. An example
of how to do this using on the linux/mac command line:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>docker import <span class="si">${</span><span class="nv">PLATFORM_AUTOMATION_IMAGE_TGZ</span><span class="si">}</span> platform-automation-image
docker run -it --rm -v <span class="nv">$PWD</span>:/workspace -w /workspace platform-automation-image <span class="se">\</span>
om --env <span class="si">${</span><span class="nv">ENV_FILE</span><span class="si">}</span> staged-config --include-placeholders --product-name cf
</pre></div>
</td></tr></table>

<h2 id="using-ops-files-for-multi-foundation">Using Ops Files for Multi-Foundation</h2>
<p><code>--include-placeholders</code> in the <code>om</code> command is a vital first step to externalizing
your configuration for multiple foundations. This will search the Ops Manager product
for fields marked as "secrets", and replace those values with
<code>((placeholder_credentials))</code>.</p>
<p>In order to fully support multiple foundations, however, a bit more work is
necessary. There are two ways to do this: using <a href="secrets-handling.html#storing-values-for-multi-foundation">secrets management</a> or ops files.
This section will explain how to support multiple foundations using ops files.</p>
<p>Starting with an <strong>incomplete</strong> <a href="https://network.pivotal.io/products/elastic-runtime">PAS</a> config from <strong>vSphere</strong> as an example:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1"># base.yml</span>
<span class="c1"># An incomplete yaml response from om staged-config</span>
<span class="nt">product-name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cf</span>

<span class="nt">product-properties</span><span class="p">:</span>
  <span class="nt">.cloud_controller.apps_domain</span><span class="p">:</span>
    <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">((cloud_controller_apps_domain))</span>
  <span class="nt">.cloud_controller.encrypt_key</span><span class="p">:</span>
    <span class="nt">value</span><span class="p">:</span>
      <span class="nt">secret</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">((cloud_controller_encrypt_key.secret))</span>
  <span class="nt">.properties.security_acknowledgement</span><span class="p">:</span>
    <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">X</span>
  <span class="nt">.properties.cloud_controller_default_stack</span><span class="p">:</span>
    <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>

<span class="nt">network-properties</span><span class="p">:</span>
  <span class="nt">network</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">DEPLOYMENT</span>
  <span class="nt">other_availability_zones</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AZ01</span>
  <span class="nt">singleton_availability_zone</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AZ01</span>

<span class="nt">resource-config</span><span class="p">:</span>
  <span class="nt">diego_cell</span><span class="p">:</span>
    <span class="nt">instances</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
    <span class="nt">instance_type</span><span class="p">:</span>
      <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic</span>
  <span class="nt">uaa</span><span class="p">:</span>
    <span class="nt">instances</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
    <span class="nt">instance_type</span><span class="p">:</span>
      <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic</span>
</pre></div>
</td></tr></table>

<p>For a single foundation deploy, leaving values such as
<code>".cloud_controller.apps_domain"</code> as-is would work fine. For multiple
foundations, this value will be different per deployed foundation. Other values,
such as <code>.cloud_controller.encrypt_key</code> have a secret that
already have a placeholder from <code>om</code>. If different foundations have different
load requirements, even the values in <code>resource-config</code> can be edited using
<a href="https://bosh.io/docs/cli-ops-files/">ops files</a>.</p>
<p>Using the example above, let's try filling in the existing placeholder for
<code>cloud_controller.apps_domain</code> in our first foundation.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1"># replace-domain-ops-file.yml</span>
<span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">replace</span>
  <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/product-properties/.cloud_controller.apps_domain/value?</span>
  <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">unique.foundation.one.domain</span>
</pre></div>
</td></tr></table></p>
<p>To test that the ops file will work in your <code>base.yml</code>, this can be done locally using <code>bosh int</code>:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span> bosh int base.yml -o replace-domain.yml
</pre></div>
</td></tr></table></p>
<p>This will output <code>base.yml</code> with the replaced(interpolated) values:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1"># interpolated-base.yml</span>
<span class="nt">network-properties</span><span class="p">:</span>
  <span class="nt">network</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">DEPLOYMENT</span>
  <span class="nt">other_availability_zones</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AZ01</span>
  <span class="nt">singleton_availability_zone</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AZ01</span>
<span class="nt">product-name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cf</span>
<span class="nt">product-properties</span><span class="p">:</span>
  <span class="nt">.cloud_controller.apps_domain</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">unique.foundation.one.domain</span>
  <span class="nt">.cloud_controller.encrypt_key</span><span class="p">:</span>
    <span class="nt">value</span><span class="p">:</span>
      <span class="nt">secret</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">((cloud_controller_encrypt_key.secret))</span>
  <span class="nt">.properties.cloud_controller_default_stack</span><span class="p">:</span>
    <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>
  <span class="nt">.properties.security_acknowledgement</span><span class="p">:</span>
    <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">X</span>
<span class="nt">resource-config</span><span class="p">:</span>
  <span class="nt">diego_cell</span><span class="p">:</span>
    <span class="nt">instance_type</span><span class="p">:</span>
      <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic</span>
    <span class="nt">instances</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
  <span class="nt">uaa</span><span class="p">:</span>
    <span class="nt">instance_type</span><span class="p">:</span>
      <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic</span>
    <span class="nt">instances</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</td></tr></table>

<p>Anything that needs to be different per deployment can be replaced via ops files as long as the <code>path:</code> is correct.</p>
<p>Upgrading products to new patch versions:</p>
<ul>
<li>Configuration settings should not differ between successive patch versions within the same minor version line.
    Underlying properties or property names may change,
    but the tile's upgrade process automatically translates properties to the new fields and values.</li>
<li>Pivotal cannot guarantee the functionality of upgrade scripts in third-party PCF products.</li>
</ul>
<p>Replicating configuration settings from one product to the same product on a different foundation:</p>
<ul>
<li>Because properties and property names can change between patch versions of a product,
  you can only safely apply configuration settings across products if their versions exactly match.</li>
</ul></article></div></div></main><style>
    .footer-not-link {
        color: hsla(0,0%,100%,.7);
    }
</style>

<!-- Application footer -->
<footer class="md-footer">

    <!-- Link to previous and/or next page --><div class="md-footer-nav">
        <nav class="md-footer-nav__inner md-grid">

            <!-- Link to previous page --><a href="creating-a-director-config-file.html"
               title="Creating a Director Config File"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
                <div class="md-flex__cell md-flex__cell--shrink">
                    <i class="md-icon md-icon--arrow-back
                    md-footer-nav__button"></i>
                </div>
                <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">Previous</span>Creating a Director Config File</span>
                </div>
            </a><!-- Link to next page --><a href="configure-env.html"
               title="Configuring Env"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
                <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">Next</span>Configuring Env</span>
                </div>
                <div class="md-flex__cell md-flex__cell--shrink">
                    <i class="md-icon md-icon--arrow-forward
                    md-footer-nav__button"></i>
                </div>
            </a></nav>
    </div><!-- Further information -->
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">

            <!-- Copyright and theme information -->
            <div class="md-footer-copyright">
                <a href="https://pivotal.io/privacy-policy" target="_blank">
                    Privacy Policy
                </a>
                |
                <a href="https://pivotal.io/legal/" target="_blank">
                    Terms of Use
                </a>
                |
                <a href="https://pivotal.io" target="_blank">
                    Pivotal
                </a>
            </div>

            <div class="md-footer-social footer-not-link">
                    Pivotal Documentation © 2019 Pivotal Software, Inc. All Rights Reserved
            </div>

        </div>
    </div>
</footer></div><script src="../assets/javascripts/application.b260a35d.js"></script><script>app.initialize({version:"1.0.4",url:{base:".."}})</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/7.1.2/mermaid.min.js"></script></body></html>